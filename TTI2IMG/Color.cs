using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace TTI2IMG
{
    static internal class Color
    {
        static readonly int[] CLUT = {0x000,0xF00,0x0F0,0xFF0,0x00F,0xF0F,0x0FF,0xFFF,
        0x000,0x700,0x070,0x770,0x007,0x707,0x077,0x777,
        0xF05,0xF70,0x0F7,0xFFB,0x0CA,0x500,0x652,0xC77,
        0x333,0xF77,0x7F7,0xFF7,0x77F,0xF7F,0x7FF,0xDDD };

        static public int[] GetColor(int color) {
            int[] RGBA = new int[4];
            var value = (color & 0x1F) != 0x08 ? CLUT[color & 0x1F] : CLUT[0x08];

            RGBA[3] = (color & 0x1F) != 0x08 ? 0xFF : 0x00;
            RGBA[0] = ((value >> 8) & 0xF) * 0x11;
            RGBA[1] = ((value >> 4) & 0xF) * 0x11;
            RGBA[2] = (value & 0xF) * 0x11;
    
            return RGBA;
        }
}
}
